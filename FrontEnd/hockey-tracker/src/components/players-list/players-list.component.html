<div>
  <ul class="flex">
    @for (player of playersList(); track $index) {
    <li class="p-2 w-48">
      <a routerLinkActive="active" [routerLink]="['/players', player.id]">
        <mat-card class="p-4 flex flex-col text-center gap-4 hover:bg-blue-100">
          <span class="flex justify-center">
            {{ player.firstName.toTitleCase() }}
            {{ player.surname.toTitleCase() }}
          </span>
          @if (team){
          <div>
            <span class="text-xs text-gray-500">
              {{ team.name.toTitleCase() }}
            </span>
            <span class="text-xs text-gray-500 font-bold">
              #{{ player.number }}
            </span>
          </div>
          } @else { @for(team of player.teams; track $index){
          <span class="text-xs text-gray-500">
            {{ team.name.toTitleCase() }}
          </span>
          <span class="text-xs text-gray-500 font-bold">
            #{{ team.playerNumber }}
          </span>
          }@empty {
          <span class="text-xs text-gray-500"> No teams </span>
          }}

          <mat-divider></mat-divider>
          <mat-card-footer class="flex gap-2 justify-center items-center">
            <span class="text-xs text-gray-500"> Last 5 games </span>

            <span class="text-xs">2G 3A 14P</span>
          </mat-card-footer>
        </mat-card>
      </a>
    </li>
    } @if(team){
    <button (click)="openDialog()">
      <mat-card
        class="pr-4 pl-4 pt-20 pb-20 text-center bg-blue-300 hover:bg-blue-100"
      >
        Add new player
      </mat-card>
    </button>
    }
  </ul>
</div>
